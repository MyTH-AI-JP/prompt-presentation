(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(4975)}])},9402:function(e,s,l){"use strict";var n=l(5893);l(7294),s.Z=()=>(0,n.jsx)("footer",{className:"footer",children:(0,n.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," プレゼンAIジェネレーター - All Rights Reserved"]})})},4954:function(e,s,l){"use strict";var n=l(5893);l(7294);var r=l(1664),a=l.n(r);s.Z=()=>(0,n.jsxs)("header",{className:"header",children:[(0,n.jsx)("div",{className:"logo",children:(0,n.jsx)(a(),{href:"/",className:"logo-text",children:"プレゼンAIジェネレーター"})}),(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{style:{display:"flex",listStyle:"none",gap:"20px"},children:[(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/",className:"nav-link",children:"ホーム"})}),(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/about",className:"nav-link",children:"使い方"})})]})})]})},4975:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return j}});var n=l(5893),r=l(7294),a=l(9008),i=l.n(a),t=l(4954),c=l(9402),o=e=>{let{onGenerate:s,isLoading:l}=e,[a,i]=(0,r.useState)(""),[t,c]=(0,r.useState)(""),[o,d]=(0,r.useState)("openai"),[m,h]=(0,r.useState)(5),[x,u]=(0,r.useState)("modern");return(0,n.jsxs)("div",{className:"presentation-form",children:[(0,n.jsx)("h1",{children:"AIでプレゼンテーションを生成"}),(0,n.jsx)("p",{className:"description",children:"プレゼンテーションのテーマを入力して、AIにスライドを作成させましょう。"}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a.trim()&&s({prompt:a,apiKey:t,provider:o,numSlides:parseInt(m),theme:x})},className:"form",children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"prompt",className:"form-label",children:"プレゼンテーションのテーマ *"}),(0,n.jsx)("textarea",{id:"prompt",className:"form-textarea",value:a,onChange:e=>i(e.target.value),placeholder:"例: クラウドコンピューティングの基礎と応用",required:!0})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"apiKey",className:"form-label",children:"API キー *"}),(0,n.jsx)("input",{type:"password",id:"apiKey",className:"form-input",value:t,onChange:e=>c(e.target.value),placeholder:"openai"===o?"OpenAI APIキー":"Gemini APIキー",required:!0}),(0,n.jsx)("small",{children:"※このキーはサーバーに保存されません"})]}),(0,n.jsxs)("div",{className:"form-row",style:{display:"flex",gap:"20px"},children:[(0,n.jsxs)("div",{className:"form-group",style:{flex:1},children:[(0,n.jsx)("label",{htmlFor:"provider",className:"form-label",children:"AIプロバイダー"}),(0,n.jsxs)("select",{id:"provider",className:"form-select",value:o,onChange:e=>d(e.target.value),children:[(0,n.jsx)("option",{value:"openai",children:"OpenAI (GPT-4)"}),(0,n.jsx)("option",{value:"gemini",children:"Google Gemini"})]})]}),(0,n.jsxs)("div",{className:"form-group",style:{flex:1},children:[(0,n.jsx)("label",{htmlFor:"numSlides",className:"form-label",children:"スライド数"}),(0,n.jsxs)("select",{id:"numSlides",className:"form-select",value:m,onChange:e=>h(e.target.value),children:[(0,n.jsx)("option",{value:"3",children:"3枚"}),(0,n.jsx)("option",{value:"5",children:"5枚"}),(0,n.jsx)("option",{value:"7",children:"7枚"}),(0,n.jsx)("option",{value:"10",children:"10枚"})]})]}),(0,n.jsxs)("div",{className:"form-group",style:{flex:1},children:[(0,n.jsx)("label",{htmlFor:"theme",className:"form-label",children:"テーマ"}),(0,n.jsxs)("select",{id:"theme",className:"form-select",value:x,onChange:e=>u(e.target.value),children:[(0,n.jsx)("option",{value:"modern",children:"モダン"}),(0,n.jsx)("option",{value:"dark",children:"ダーク"}),(0,n.jsx)("option",{value:"gradient",children:"グラデーション"}),(0,n.jsx)("option",{value:"minimal",children:"ミニマル"})]})]})]}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:l||!a.trim()||!t.trim(),style:{width:"100%",marginTop:"20px"},children:l?"生成中...":"プレゼンテーションを生成"})]})]})},d=e=>{let{presentation:s,onBack:l}=e,[a,i]=(0,r.useState)(0);if(!s||!s.slides||0===s.slides.length)return(0,n.jsxs)("div",{className:"error-container",children:[(0,n.jsx)("p",{children:"スライドが見つかりません。"}),(0,n.jsx)("button",{onClick:l,className:"btn btn-primary",children:"戻る"})]});let t=s.slides.length,c=s.slides[a],o=s.theme||"modern",d=c.type||"content";return(0,n.jsxs)("div",{className:"presentation-container",children:[(0,n.jsxs)("div",{className:"presentation-header",children:[(0,n.jsx)("h2",{children:s.title}),(0,n.jsx)("button",{onClick:l,className:"btn btn-outline",children:"新しいプレゼンテーションを作成"})]}),(0,n.jsx)("div",{className:"slide-container theme-".concat(o),children:(0,n.jsxs)("div",{className:"slide slide-type-".concat(d),children:[(0,n.jsx)("h1",{className:"slide-title",children:c.title}),(0,n.jsx)("div",{className:"slide-content",children:c.content&&(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:c.content.replace(/\n/g,"<br>")}})}),c.footer&&(0,n.jsx)("div",{className:"slide-footer",children:c.footer})]})}),(0,n.jsxs)("div",{className:"slide-controls",children:[(0,n.jsx)("button",{onClick:()=>{a>0&&i(a-1)},className:"btn btn-primary",disabled:0===a,children:"前へ"}),(0,n.jsxs)("div",{className:"slide-counter",children:[a+1," / ",t]}),(0,n.jsx)("button",{onClick:()=>{a<t-1&&i(a+1)},className:"btn btn-primary",disabled:a===t-1,children:"次へ"})]})]})},m=e=>{let{message:s="スライドを生成中..."}=e;return(0,n.jsxs)("div",{className:"loading",children:[(0,n.jsx)("div",{className:"spinner"}),(0,n.jsx)("p",{className:"loading-text",children:s})]})},h=l(1664),x=l.n(h),u=e=>{let{error:s,onRetry:l}=e;return(0,n.jsx)("div",{className:"error-page",children:(0,n.jsxs)("div",{className:"error-content",children:[(0,n.jsx)("div",{className:"error-icon",children:"❌"}),(0,n.jsx)("h1",{className:"error-title",children:"エラーが発生しました"}),(0,n.jsx)("p",{className:"error-message",children:(null==s?void 0:s.message)||"プレゼンテーションの生成中に問題が発生しました。"}),(null==s?void 0:s.details)&&(0,n.jsx)("div",{className:"error-details",children:(0,n.jsx)("pre",{children:s.details})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{onClick:l,className:"btn btn-primary",children:"再試行"}),(0,n.jsx)(x(),{href:"/",className:"btn btn-outline return-link",children:"ホームに戻る"})]})]})})};function j(){let[e,s]=(0,r.useState)(null),[l,a]=(0,r.useState)(!1),[h,x]=(0,r.useState)(null),j=async e=>{a(!0),x(null);try{let l=await fetch("/api/generate-presentation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await l.json();if(!l.ok)throw Error(n.error||"予期せぬエラーが発生しました");s(n)}catch(e){console.error("Generation error:",e),x({message:e.message,details:e.stack})}finally{a(!1)}};return(0,n.jsxs)("div",{className:"container",children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:"プレゼンAIジェネレーター"}),(0,n.jsx)("meta",{name:"description",content:"AIを使ってプレゼンテーションスライドを簡単に生成"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)(t.Z,{}),(0,n.jsx)("main",{className:"main",children:l?(0,n.jsx)(m,{}):h?(0,n.jsx)(u,{error:h,onRetry:()=>{x(null)}}):e?(0,n.jsx)(d,{presentation:e,onBack:()=>{s(null),x(null)}}):(0,n.jsx)(o,{onGenerate:j,isLoading:l})}),(0,n.jsx)(c.Z,{})]})}}},function(e){e.O(0,[996,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);